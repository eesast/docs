# 角色

- 角色分为【取经团队】阵营`sideflag=0`和【妖怪】阵营`sideflag=1`。双方只能控制己方阵营的角色。
- 【取经团队】阵营初始时即拥有角色【**唐僧**】`TangSeng`，【妖怪】阵营初始时即拥有角色【**九灵元圣**】`JiuLing`。
- 阵营其他角色需要花费经济召唤。
- 每个角色分为**主动状态**和**被动状态**。**主动状态**为在玩家控制下执行的状态，**被动状态**为角色受到控制时具有的状态。被动状态可能会对主动状态造成影响。每个角色的主动状态是不可叠加的。

  - **主动状态**
    - 空置`Idol`

    - 开采`Harvesting`

    - 攻击`Attacking`

    - 释放技能`Skill_Casting`

    - 建造`Constructing`

    - 移动`Moving`

  - **被动状态**

    - 致盲`Blind`：在该状态下，角色无法进行攻击。
    - 击退`Knocked_Back`：在该状态下，角色主动状态强制转为空置（即无法进行任何操作）。
    - 定身`Stunned`：在该状态下，角色无法移动。
    - 隐身`Invisible`：在该状态下，发起攻击前，角色对敌方不可见。
    - 灼烧`Burned`：在此状态下，角色会持续掉血，并且被铁扇公主”芭蕉扇“技能命中时，会受到额外状态。
    - 死亡`Deaceased`：在此状态下，角色会从地图上被移除。
- 角色的基础移动速度为2500/s，还会受到相关移速buff与debuff影响。
- 角色的基础攻击频率为1次/s，还会受到相关攻速buff影响。
- 角色的攻击是**锁定**的，即无法通过闪避避免伤害。
- 角色受到的伤害计算方式如下：`AP`为伤害初始值，`HarmCut`为减伤系数，`shield`为护盾值，则伤害会优先对护盾结算，护盾值降为0后，再对血量进行结算。护盾扣除值和血量扣除值都受到免伤系数影响，即：`subShield/subHP`=(1-`HarmCut`)*`AP`。
- 角色可以释放技能，技能的CD为60s，其中，孙悟空的技能**火眼金睛**释放时需指定释放角度`angle`,其为与x轴正方向的夹角，单位为弧度制，取值为(0,2π)。其余角色技能范围（若有）为以自己为圆心的圆。白龙马技能范围半径为10000，其余为6000。
- 每个阵营最多拥有6名角色（包括【唐僧】或【九灵元圣】）。

## 取经团队阵营

**【角色技能表】**

|  角色  | 类别 |                             技能                             |           备注           |
| :----: | :--: | :----------------------------------------------------------: | :----------------------: |
|  唐僧  |  /   |                                                              |            /             |
| 孙悟空 | 近战 |          **火眼金睛**：发出激光束，造成50点贯穿伤害          | 火眼金睛不可被障碍物阻挡 |
| 猪八戒 | 近战 | **食神饱餐**：恢复生命值，短时间（15s）增加防御，获得50%伤害减免 |            /             |
| 沙悟净 | 远程 | **沙海迷踪**：致盲范围内（半径为6000）敌人，使其短时间无法进行有效攻击，持续5s |      障碍物无法阻挡      |
| 白龙马 | 远程 | **龙腾四海**：化身为龙，对大范围（半径为10000）敌人造成20点冲击伤害 |      障碍物无法阻挡      |

**【角色数值表】**

|  角色  | 血量 | 攻击力 | 攻击范围 | 经济消耗 | 击杀得分 |
| :----: | :--: | :----: | :------: | :------: | :------: |
|  唐僧  | 1000 |   /    |    /     |    /     |   20w    |
| 孙悟空 | 200  |   30   |    1     |   5000   |   5000   |
| 猪八戒 | 300  |   20   |    2     |   4000   |   4000   |
| 沙悟净 | 150  |   10   |    5     |   3000   |   3000   |
| 白龙马 | 150  |   10   |    5     |   4000   |   4000   |

**【特殊单位】**

取经团队阵营具有特殊单位——猴子猴孙。

|   角色   | 血量 | 攻击力 | 攻击范围 | 经济消耗 | 击杀得分 |
| :------: | :--: | :----: | :------: | :------: | :------: |
| 猴子猴孙 |  50  |   5    |    1     |   1000   |   500    |

## 妖怪阵营

**【角色技能表】**

|   角色   | 类别 |                             技能                             |      备注      |
| :------: | :--: | :----------------------------------------------------------: | :------------: |
| 九灵元圣 |  /   |                                                              |       /        |
|  红孩儿  | 近战 | **三昧真火**：对一定范围内（半径为6000）的敌人附带每秒15点的灼烧伤害，持续5s |       /        |
|  牛魔王  | 近战 | **坚不可摧**：为自己和范围内（半径为6000）血量最低的队友附加一个能抵挡100点伤害的护盾 |       /        |
| 铁扇公主 | 远程 | **芭蕉扇**：击退一定范围内（半径为6000）的敌人，并对中了“三昧真火”的敌人附加20点的点燃伤害 | 障碍物无法阻挡 |
|  蜘蛛精  | 远程 | **蛛网束缚**：定身范围内（半径为6000）的敌人，持续5s，并造成10点伤害 | 障碍物无法阻挡 |

**【角色数值表】**

|   角色   | 血量 | 攻击力 | 攻击范围 | 经济消耗 | 击杀得分 |
| :------: | :--: | :----: | :------: | :------: | :------: |
| 九灵元圣 | 1000 |   /    |    /     |    /     |   20w    |
|  红孩儿  | 200  |   25   |    1     |   5000   |   5000   |
|  牛魔王  | 300  |   20   |    2     |   4000   |   4000   |
| 铁扇公主 | 150  |   10   |    5     |   3000   |   3000   |
|  蜘蛛精  | 150  |   10   |    5     |   3000   |   3000   |

**【特殊单位】**

妖怪阵营具有特殊单位——无名小妖。

|   角色   | 血量 | 攻击力 | 攻击范围 | 经济消耗 | 击杀得分 |
| :------: | :--: | :----: | :------: | :------: | :------: |
| 无名小妖 |  50  |   5    |    1     |   1000   |   500    |

以上的**攻击范围**`RelativeAttackSize`是一个相对系数，具体换算方法为：`RelativeAttackSize = AttackSize/1000`.即，相对攻击范围的基准值是1000.

## 角色视野机制

- 0-7min，每个角色能看到以自身为圆心，半径为8000的圆内所有没有被遮挡或未处在隐身状态下的敌方角色。
  - 没有被遮挡是指：
    - 与敌方角色之间的连线上没有障碍物；
    - 敌方角色不在草丛中，或在草丛中的敌方角色发起了攻击。

- 7-10min，游戏进入【决战期】，可以获取敌方所有角色的视野。
- 地图中的所有资源点的位置都是可获取的。